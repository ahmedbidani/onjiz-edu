<div class="col-12 grid-margin stretch-card">
  <div class="card">
    <div class="card-body">
      <h4 class="card-title"><%= (schoolData.id == undefined) ? '' : __('Edit school')%></h4>
      
      <%if(schoolData.id == undefined){%>
      <!-- Steps -->
      <div class="pearls row">
        <div class="pearl current col-6 active" aria-expanded="true">
          <div class="pearl-icon"><i class="mdi mdi-home" aria-hidden="true"></i></div>
          <span class="pearl-title"><%= __('Add new School') %></span>
        </div>
        <div class="pearl col-6 disabled" aria-expanded="false">
          <div class="pearl-icon"><i class="mdi mdi-account" aria-hidden="true"></i></div>
          <span class="pearl-title"><%= __('Add School Administrator') %></span>
        </div>
      </div>
      <!-- End Steps -->
      <%}%>
      
      <form autocomplete="off" id="formSchool" class="" data-fv-framework="bootstrap4" data-fv-message="<%= __('Invalidate') %>"
          data-fv-icon-valid="glyphicon glyphicon-ok" data-fv-icon-invalid="glyphicon glyphicon-remove" data-fv-icon-validating="glyphicon glyphicon-refresh"
          data-fv-live="enabled" data-manner="<%= (schoolData.id == undefined) ? 'add' : 'edit' %>">
          <input type='hidden' name='_csrf' value='<%= _csrf %>'>
          <div class="row">
              <div class="col-xxl-6 col-xl-6 col-lg-6">
                  <input value="<%= schoolData.id%>" name="id" id="schoolId" hidden>
                  <div class="form-group">
                      <label class="form-control-label">
                        <%= __('Code') %>
                      </label>
                      <input type="text" class="form-control" name="code" data-fv-notempty="true"
                        data-fv-notempty-message="<%= __('Required field') %>" value="<%= schoolData.code%>" required>
                  </div>
                    <div class="form-group">
                        <label class="form-control-label">
                          <%= __('Name') %>
                        </label>
                        <input type="text" class="form-control" name="name" 
                          data-fv-notempty="true" data-fv-notempty-message="<%= __('Required field') %>"
                          value="<%= schoolData.name%>" required>
                    </div>
                    <div class="form-group">
                      <label class="form-control-label">
                        <%= __('E-mail') %>
                      </label>
                      <% if(manner == 'add'){%>
                      <input type="text" class="form-control" name="emailAddress" value="<%=(schoolData.emailAddress) ? schoolData.emailAddress : ''%>"
                        email-existence="<%= __('Email is existed') %>"
                        pattern="[A-Za-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                        data-fv-notempty="true" data-fv-notempty-message="<%= __('Email is required') %>"
                        data-fv-message="<%= __('Email format is invalid') %>" required>
                      <%}else{%>
                        <input class="form-control" name="emailAddress" readonly value="<%=(schoolData.emailAddress) ? schoolData.emailAddress : ''%> ">
                      <%}%>
                    </div>
                    <div class="form-group">
                      <label class="form-control-label">
                        <%= __('Phone') %>
                      </label>
                      <input type="number" class="form-control" name="phone" pattern="[0-9]{9,12}$"
                        data-fv-notempty="true" data-fv-notempty-message="<%= __('Phone is required') %>"
                        data-fv-message="<%= __('Phone is 9 or 12 number') %>" data-fv-stringlength="true"
                        data-fv-stringlength-max="12" value="<%= schoolData.phone%>" required>
                    </div>
                    <div class="form-group">
                      <label class="form-control-label">
                        <%= __('Address') %>
                      </label>
                      <input type="text" class="form-control" name="address" data-fv-notempty="true"
                        data-fv-notempty-message="<%= __('Required field') %>" value="<%= schoolData.address%>" required>
                    </div>
                    <div class="form-group">
                        <label class="form-control-label">
                          <%= __('Tax code') %>
                        </label>
                        <input type="text" class="form-control" name="numberOfVAT" data-fv-notempty="true"
                          data-fv-notempty-message="<%= __('Required field') %>" value="<%= schoolData.numberOfVAT%>" required>
                    </div>
                    <div class="form-group">
                        <label class="form-control-label">
                          <%= __('Server') %>
                        </label>
                        <select id="server" name="server" class="form-control js-process-basic-multiple  select2-multiple"
                        data-placeholder="<%= __('Choose') %>">
                          <% _.each(SERVER, function(server, index) { %>
                          <option value="<%= server.code %>" <%= server.code == schoolData.server ? "selected":""%>>
                            <%= server.name %>
                          </option>
                          <% }) %>
                        </select>
                    </div>
              </div>
              <div class="col-xxl-6 col-xl-6 col-lg-6">
                <div class="form-group">
                  <label class="form-control-label">
                    <%= __('School Photo') %>
                  </label>
                  <div class="fileinput fileinput-new input-group" data-provides="fileinput">
                    <input type="file" data-default-file="<%= schoolData.photo? schoolData.photo : '/images/school.png' %>" class="dropify" name="photo" data-field="photo" data-max-file-size="10M" />
                  </div>
                </div>
              </div>
              <div class="col-12">
                <div class="alert alert-danger hidden" role="alert">
                  <i class="mdi mdi-alert-circle"></i>
                </div>
              </div>
              <div class="col-12">
                <div class="form-group form-material">
                  <button id="btnFormSchool" type="submit" class="btn btn-primary"><%= schoolData.id ? __('Update') : __('Add New') %></button>
                </div>
              </div>
          </div>
      </form>
    </div>
  </div>
</div>
    

